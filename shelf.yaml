# it is written in Kwalify
name: archive #or shelf
desc: book data base
type: map #Root
mapping:
  "Books": 
    type: seq
    required: yes
    sequence: &Books
      - &Book
        type: map 
        mapping: 
          "isbn":
            type: str
            required: yes
            unique: yes
            pattern: /[0-9-]*/
          "title":
            type: str
            required: yes
          "properties":
            type: map
            mapping:
              =: 
                type: any

  "Categories": 
    type: seq
    sequence: &Categories
      - &Category
        type: map
        mapping:
          name: 
            required: yes
            type: str
          Books:
            required: yes
            type: seq
            sequence: 
              *Books
          SubCategory:
            required: yes
            type: seq
            sequence: 
              *Categories
